<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Emperor</title>
    <!-- core dependencies that are otherwise included via the jupyter notebook -->
<script src="./vendor/js/require-2.1.22.min.js"></script>
<script src="./vendor/js/jquery-2.1.4.min.js"></script>
    <meta charset="utf-8">

    <script type="text/javascript">

if ($("#emperor-css").length == 0){{
    $("head").append([

        '<link id="emperor-css" rel="stylesheet" type="text/css" href="./css/emperor.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery-ui.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/slick.grid.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/spectrum.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/chosen.min.css">',
        '<link rel="stylesheet" type="text/css" href="./vendor/css/jquery.contextMenu.min.css">'
    ]);
}}
</script>


    <style>
      #emperor-notebook-0xb937c91d {
        height:100vh !important;
        padding: 0px !important;
      }
      body {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
      }
    </style>
  </head>
  <body>
    <div id='emperor-notebook-0xb937c91d' style="position: relative; width:100%; height:500px;">
  <div class='loading' style="position: absolute;top: 50%;left: 50%;margin-left: -229px; margin-top: -59px; z-index: 10000;height:118px;width:458px;padding:0px"><img src='./img/emperor.png' alt='Emperor resources missing. Expected them to be found in .'></div>
</div>
</div>
    <script type="text/javascript">
    // When running in the Jupyter notebook we've encountered version conflicts
// with some dependencies. So instead of polluting the global require context,
// we define a new context.
var emperorRequire = require.config({
'context': 'emperor',
// the left side is the module name, and the right side is the path
// relative to the baseUrl attribute, do NOT include the .js extension
'paths': {
  /* jQuery */
  'jquery': './vendor/js/jquery-2.1.4.min',
  'jqueryui': './vendor/js/jquery-ui.min',
  'jquery_drag': './vendor/js/jquery.event.drag-2.2.min',

  /* jQuery plugins */
  'chosen': './vendor/js/chosen.jquery.min',
  'spectrum': './vendor/js/spectrum.min',
  'position': './vendor/js/jquery.ui.position.min',
  'contextmenu': './vendor/js/jquery.contextMenu.min',

  /* other libraries */
  'underscore': './vendor/js/underscore-min',
  'chroma': './vendor/js/chroma.min',
  'filesaver': './vendor/js/FileSaver.min',
  'blob': './vendor/js/Blob',
  'canvastoblob': './vendor/js/canvas-toBlob',
  'd3': './vendor/js/d3.min',

  /* THREE.js and plugins */
  'three': './vendor/js/three.min',
  'orbitcontrols': './vendor/js/three.js-plugins/OrbitControls',
  'projector': './vendor/js/three.js-plugins/Projector',
  'svgrenderer': './vendor/js/three.js-plugins/SVGRenderer',
  'canvasrenderer': './vendor/js/three.js-plugins/CanvasRenderer',
  'selectionbox': './vendor/js/three.js-plugins/SelectionBox',
  'selectionhelper': './vendor/js/three.js-plugins/SelectionHelper',

  /* SlickGrid */
  'slickcore': './vendor/js/slick.core.min',
  'slickgrid': './vendor/js/slick.grid.min',
  'slickformatters': './vendor/js/slick.editors.min',
  'slickeditors': './vendor/js/slick.formatters.min',
  'slickdataview': './vendor/js/slick.dataview.min',

  /* Emperor's objects */
  'util': './js/util',
  'model': './js/model',
  'multi-model': './js/multi-model',
  'view': './js/view',
  'controller': './js/controller',
  'draw': './js/draw',
  'scene3d': './js/sceneplotview3d',
  'shapes': './js/shapes',
  'animationdirector': './js/animate',
  'trajectory': './js/trajectory',
  'uistate': './js/ui-state',

  /* controllers */
  'abcviewcontroller': './js/abc-view-controller',
  'viewcontroller': './js/view-controller',
  'colorviewcontroller': './js/color-view-controller',
  'visibilitycontroller': './js/visibility-controller',
  'opacityviewcontroller': './js/opacity-view-controller',
  'scaleviewcontroller': './js/scale-view-controller',
  'shapecontroller': './js/shape-controller',
  'axescontroller': './js/axes-controller',
  'animationscontroller': './js/animations-controller',

  /* editors */
  'shape-editor': './js/shape-editor',
  'color-editor': './js/color-editor',
  'scale-editor': './js/scale-editor'

},
/*
   Libraries that are not AMD compatible need shim to declare their
   dependencies.
 */
'shim': {
  'jquery_drag': {
    'deps': ['jquery', 'jqueryui']
  },
  'chosen': {
    'deps': ['jquery'],
    'exports': 'jQuery.fn.chosen'
  },
  'contextmenu' : {
    'deps': ['jquery', 'jqueryui', 'position']
  },
  'filesaver' : {
    'deps': ['blob']
  },
  'canvastoblob' : {
    'deps': ['blob']
  },
  'slickcore': ['jqueryui'],
  'slickgrid': ['slickcore', 'jquery_drag', 'slickformatters', 'slickeditors',
                'slickdataview']
}
});

emperorRequire(
["jquery", "model", "controller"],
function($, model, EmperorController) {
  var DecompositionModel = model.DecompositionModel;

  var div = $('#emperor-notebook-0xb937c91d');

  var data = {"info": null, "plot": {"decomposition": {"axes_names": [0, 1, 2, 3, 4], "ci": null, "coordinates": [[0.8360500596558839, 0.24607412172874824, -0.6205225688514259, 0.13945674370881547, -0.15073139221389667], [-0.017501668975352717, 0.0781958432076131, -0.0315726031015135, 0.024356183205295492, -0.058642362223563796], [-0.2860637514456139, 0.09909804568901281, -0.1710147365118881, 0.055752160275823824, -0.014031780370807424], [-0.08514709368524338, -0.0443126597352753, -0.016320187699639353, 0.12162452967967752, -0.14917051357350217], [-0.20996981889919178, -0.04083281311412425, 0.06435434836326485, 0.41229623128765563, 0.059321907829424377], [-0.1593279075915189, -0.015042232551186856, 0.20177776452952653, 0.31035741712925763, 0.13206606447745256], [-0.32163759382210977, 0.08650436103289728, 0.36023267023499433, 0.22392557722015838, -0.06407944831350165], [-0.3725889064567441, -0.0073197743711397156, 0.12974788640554077, 0.01768945810367987, -0.07390903493752604], [-0.2586281630569492, 0.6844756809520515, 0.29530371534485045, 0.1547224551863231, -0.03579003074464496], [-0.6647372993035929, -0.05118782775299878, -0.14236338835036527, 0.10742950380899169, 0.4009609475443821], [-0.5100463609880752, -0.011266388522347445, -0.10378387394380738, -0.14263493644039052, -0.17050289180788375], [-0.3782211954442798, 0.6785342057176705, 0.24691192661161987, -0.15006281506716707, -0.2285406119772079], [-0.6512580299023399, -0.017573184792249494, -0.0684155985032975, 0.02968279807229679, 0.1858041799260583], [-0.18168308673451036, 0.28516361110348915, 0.20845777569074128, 0.020476135934651918, 0.04679712558478363], [-0.6359126495855243, 0.1310243304122215, -0.09000201026175317, -0.1190509128312682, 0.01802232340872321], [-0.4438537668940103, -0.0813227870064145, -0.059695240039567096, -0.08262630156101579, -0.14884290009662732], [0.6964610379451199, -0.14372308106701068, 0.17010934630145452, -0.050472267733300755, -0.06300631145047438], [-0.0648307402664177, 0.11312314385113625, 0.3180957984624175, 0.2553681751385124, 0.27709341483744], [0.0015323158401036702, 0.6388901194555052, 0.5981604391821783, 0.0530956309133777, -0.2100663016121821], [-0.17605689383614875, -0.05559215006113761, 0.27825710802693265, 0.06293282394477709, -0.04060991238893727], [-0.30099617649606963, 0.722515082182193, 0.44459468792066786, -0.137212883768392, -0.21264374525187543], [-0.4414192210186302, 0.06437526693264053, -0.06561840406535001, -0.24905939568332813, 0.09580213928238769], [-0.5390470394363407, -0.16744040862039186, -0.16221430324033306, -0.25693531319624247, -0.21383829462889697], [-0.6105805097671525, -0.17293090584010143, -0.22448091359287795, -0.31319113687406847, -0.27515826189656223], [-0.5406741583638244, -0.33790918743129333, -0.044975678341218496, -0.1540919466039749, -0.28853985651004666], [-0.6416067374043126, -0.3329914615771501, -0.1120862704807584, -0.22589043827652652, -0.347440323883795], [0.19175956695050703, -0.020610230097881675, 0.41326490570248425, -0.010369555745163246, 0.01966002370767088], [0.08784220561082805, 0.1258515431107015, -0.4785063853141665, 0.27394913071383814, -0.4080398076036975], [0.20437364567645686, -0.5825641953349819, 0.287623173347697, 0.17435905278366504, -0.16659455998647887], [-0.28923301892327824, 0.10834393502637094, -0.132659280262197, -0.42576100521350513, 0.42351897834982033], [-0.3984503160530619, 0.07300496008224582, -0.1692602632718732, -0.27210430080050035, 0.5603565237119856], [0.3487994451318206, -0.47890524488879255, 0.27622090941681343, 0.12240571491136752, -0.0789031137277586], [-0.15443856455810812, -0.12804427589308207, 0.03294713154414496, 0.07905415057763106, -0.23081333891246394], [-0.1619496826490933, -0.12414038816700904, -0.001885956243503058, 0.11244221426541955, -0.2060689116152032], [-0.135175636105111, 0.1280289023170612, -0.01125752330542044, -0.004806724650815306, 0.25088285528632975], [0.04792640544404351, 0.08331681870947179, 0.01919533361540287, -0.26477041119930045, 0.3295142969341706], [0.5361834047912384, -0.01946806249449569, -0.2140352246759974, 0.08913550396152153, -0.08509592959914501], [0.4834792575572534, -0.18346328691398087, 0.04541336948030718, -0.2088637518881506, 0.12862919225464037], [0.2836376178787829, -0.26287196495854753, 0.06465578432739323, -0.03781533740816073, 0.05156738688367399], [0.6053631196688863, 0.5152894876670373, -0.2934854810630462, -0.015734636745581555, 0.2728887747433517], [0.42655263409922994, -0.16699127214146484, -0.3651919328801757, 0.46546411667118187, -0.32591932958762415], [-0.05971344416655728, -0.14233111031165332, 0.1183772707285848, 0.12865757095778546, 0.10866074537214442], [0.33472739939873697, -0.4560460336871736, 0.23359796911461436, 0.05413892913751859, -0.034580590030840956], [0.10106525085406123, -0.3153653321085367, 0.11409838346725851, 0.5060966165378811, 0.12794698594792392], [1.0, 0.47076769943910207, -0.5819097987898223, 0.05828964747159942, -0.19370060272240644], [0.7846280269413094, 0.0563507138401146, 0.05828188000605138, -0.44788666555244155, 0.14641141667969154], [0.9515427015041032, 0.2003342101712154, -0.21143128455957214, -0.19485596220962562, 0.038336131385492356], [0.029184859988150708, 0.05036997478298609, 0.40849488457314037, -0.042415190400912205, -0.18675388207661694], [-0.6470233887144994, -0.23828060193400422, -0.24940058672304602, -0.3397690101553516, -0.31052952245875953], [0.06392639109643775, -0.15496387509930765, 0.046377622012953305, -0.060880347148300346, -0.04156139618507625], [-0.6472458699678004, -0.1408749430873004, -0.2328028416745446, 0.10424576061433861, 0.4048521398036671], [-0.2857075463636008, -0.14490169399072514, -0.08937095780597933, -0.14817936769325316, -0.15934742766777635], [0.24330194292875806, 0.2008411420951274, -0.3784246485950388, 0.31028270295051325, -0.17052275891760563], [-0.1343133268134212, 0.010715381696505617, -0.014815248020269919, 0.17937208366815785, 0.1062345189505064], [0.035943557059621295, 0.27671056353906937, -0.1083427020151369, 0.21855469241367648, -0.1590212462046199], [-0.02720931515124023, 0.5098081209739678, -0.07126406306118505, -0.13671609672915294, -0.03810101755617315], [0.4894719481299474, -0.31511707626914387, 0.059040542641092285, -0.21754701182124778, 0.0762934560773552], [0.7380557899081843, -0.16191273989699118, 0.08242466341041145, -0.3823037485683361, 0.09559179551596243], [0.3812903046664943, -0.07746841283301621, -0.06996369287831149, 0.056340647483636395, 0.0932866384495721], [0.6083089875425526, -0.03848955552844952, -0.0133574181146724, -0.17960025925614032, 0.12341293103512432], [0.5712430178217643, 0.16302224732510676, 0.4206077839692668, -0.08914377174195412, 0.009547118015209943], [-0.18309909263937035, -0.239288613947371, -0.06151119604058954, 0.18523617235648068, 0.37381677826139365], [0.1590155561597933, -0.1103905030977111, 0.10967478217232758, 0.1142574012070685, 0.04727508528646683], [0.4195303058893235, -0.472646528239297, 0.2692253342951214, 0.05500502762171358, -0.003934470408044221], [0.0945569402468774, -0.17700747003586056, 0.06648421359896811, 0.11236281969286477, -0.15057965344476779], [0.7070448108457787, -0.00866113817129134, 0.04741924770577517, -0.36939490852817236, 0.13404288336706532], [-0.03288155124879728, -0.2616337199317202, 0.027387131203813808, 0.19828426006930816, 0.2846875040272106], [0.544156244930954, -0.029665051333328692, 0.02599410639918342, -0.29217891672973123, 0.07587705200141222], [0.504181553535757, -0.24221596695122705, 0.05064030225657445, 0.11884796223380735, -0.04295286931745333], [-0.4322484390151652, -0.23546025876201815, -0.24965050687475476, -0.4184722799484156, -0.12349673274516343], [0.14060145881821595, 0.19529949649963688, -0.10893727057693395, 0.2933155391690908, -0.016831126669196], [-0.29574125565701703, 0.07042731978824743, 0.0047466167110544865, 0.03852742115016074, -0.15927145503531617], [-0.06971694015080995, 0.1461164296138897, 0.002305225898280967, -0.12068759669201119, -0.10443578748265789], [-0.39529137665207553, 0.23990985974526727, -0.059645212312209074, 0.25614080604751693, 0.2785369850794024], [-0.37677946519022015, -0.059754756717652055, -0.09561993017780807, -0.08858961088176923, -0.052310449000163975], [-0.43373076512379705, 0.01649654657853435, -0.42470685245285705, 0.35614304746663783, 0.41721365281905304]], "edges": [], "percents_explained": [30.71726378787086, 11.44932813461514, 8.745612314544859, 7.5403615869923115, 6.784944747376387], "sample_ids": ["A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A24", "A25", "A26", "A27", "A28", "A29", "A30", "A31", "A32", "A33", "A34", "A35", "A36", "B1", "B2", "B3", "B4", "B5", "B6", "B7", "B8", "B9", "B10", "B11", "B12", "B13", "B14", "B15", "B16", "B17", "B18", "B19", "B20", "C1", "C2", "C3", "C4", "C5", "C6", "C7", "C8", "C9", "C10", "C11", "C12", "C13", "C14", "C15", "C16", "C17", "C18", "C19", "C20"]}, "metadata": [["A1", "A"], ["A2", "A"], ["A3", "A"], ["A4", "A"], ["A5", "A"], ["A6", "A"], ["A7", "A"], ["A8", "A"], ["A9", "A"], ["A10", "A"], ["A11", "A"], ["A12", "A"], ["A13", "A"], ["A14", "A"], ["A15", "A"], ["A16", "A"], ["A17", "A"], ["A18", "A"], ["A19", "A"], ["A20", "A"], ["A21", "A"], ["A22", "A"], ["A23", "A"], ["A24", "A"], ["A25", "A"], ["A26", "A"], ["A27", "A"], ["A28", "A"], ["A29", "A"], ["A30", "A"], ["A31", "A"], ["A32", "A"], ["A33", "A"], ["A34", "A"], ["A35", "A"], ["A36", "A"], ["B1", "B"], ["B2", "B"], ["B3", "B"], ["B4", "B"], ["B5", "B"], ["B6", "B"], ["B7", "B"], ["B8", "B"], ["B9", "B"], ["B10", "B"], ["B11", "B"], ["B12", "B"], ["B13", "B"], ["B14", "B"], ["B15", "B"], ["B16", "B"], ["B17", "B"], ["B18", "B"], ["B19", "B"], ["B20", "B"], ["C1", "C"], ["C2", "C"], ["C3", "C"], ["C4", "C"], ["C5", "C"], ["C6", "C"], ["C7", "C"], ["C8", "C"], ["C9", "C"], ["C10", "C"], ["C11", "C"], ["C12", "C"], ["C13", "C"], ["C14", "C"], ["C15", "C"], ["C16", "C"], ["C17", "C"], ["C18", "C"], ["C19", "C"], ["C20", "C"]], "metadata_headers": ["SampleID", "group1"], "settings": {}, "type": "scatter"}};

  var plot, biplot = null, ec;

  function init() {
    // Initialize the DecompositionModel for the scatter plot, and optionally
    // add one for the biplot arrows
    plot = new DecompositionModel(data.plot.decomposition,
                                  data.plot.metadata_headers,
                                  data.plot.metadata,
                                  data.plot.type);

    if (data.biplot) {
      biplot = new DecompositionModel(data.biplot.decomposition,
                                      data.biplot.metadata_headers,
                                      data.biplot.metadata,
                                      data.biplot.type);
    }

    ec = new EmperorController(plot, biplot, "emperor-notebook-0xb937c91d", undefined,
                               data.info);
  }

  function animate() {
    requestAnimationFrame(animate);
    ec.render();
  }
  $(window).resize(function() {
    ec.resize(div.innerWidth(), div.innerHeight());
  });

  $(function(){
    init();
    animate();

    ec.ready = function () {
      // any other code that needs to be executed when emperor is loaded should
      // go here
      ec.loadConfig(data.plot.settings);

      // sets up generic callbacks for 3rd party consumers
      var plotView = ec.sceneViews[0];
      /*__custom_on_ready_code__*/
      
    }
  });

}); // END REQUIRE.JS block
    </script>
  </body>
</html>