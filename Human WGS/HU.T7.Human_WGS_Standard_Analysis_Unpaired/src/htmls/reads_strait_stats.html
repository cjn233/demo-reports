
<!DOCTYPE html>
<html>
<head>
    <title>echarts test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>
    <div id="raw_data_pie" style="width: 800px; height: 300px; margin: auto"></div>
    <script type="text/javascript" src="../js/echarts.min.js"></script>
    <script type="text/javascript" src="../js/macarons.js"></script>
    <script type="text/javascript">
        myeChart = echarts.init(document.getElementById("raw_data_pie"), 'macarons');
        let dataDict = {'SE mapped': [0.12, 0.09, 0.1, 0.11], 'PE mapped': [99.82, 99.84, 99.82, 99.78], 'With mate mapped to a different chr ((mapQ>=5))': [1.9, 1.38, 1.35, 1.52], 'Duplicate': [24.84, 24.04, 26.24, 24.72], 'With mate mapped to a different chr': [2.12, 1.57, 1.52, 1.72], 'Mapped': [99.88, 99.88, 99.87, 99.84], 'Properly mapped': [97.17, 97.71, 97.81, 97.57]};
        let sampleS = ['tian', 'tianshu', 'songshu', 'tianzi'];
        let typeC = new Array();
        let seriesNow = new Array();
        for (il in dataDict){
            typeC.push(il);
            seriesNow.push({name: il, type: 'bar', barGap: 0, data: dataDict[il], barCategoryGap: '6%'});
        };
        let plot_option = {
            //color: ['#003366', '#006699', '#4cabce', '#e5323e'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: typeC
            },
            toolbox: {
                show: true,
                orient: 'vertical',
                left: '730',
                top: 'center',
                feature: {
                    mark: {show: true},
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            calculable: true,
            yAxis: [
                {
                    type: 'value',
                    axisLabel:{
                        formatter: '{value} %'
                    }
                }
            ],
            xAxis: [
                {
                    type: 'category',
                    axisTick: {show: false},
                    data: sampleS,
                    axisLabel:{
                        rotate: 40
                    }
                }
            ],
            dataZoom: [
                {
                    'type': 'slider',
                    'xAxisIndex' : 0,
                    'start': 0,
                    'end': 100,
                },
            ],
            series: seriesNow,
        };
        myeChart.setOption(plot_option);
    </script>
</body>
</html>
